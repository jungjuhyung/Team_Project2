<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="lee-mapper">
  	<insert id="insert" parameterType="mvo">
  		insert into user_t(u_id, u_pwd, u_name, u_birth, u_email, u_gender, u_nickname, u_self, u_grade, u_stopdate, u_regdate, u_active)
  		values(#{u_id}, #{u_pwd}, #{u_name}, #{u_birth}, #{u_email}, #{u_gender}, #{u_nickname}, #{u_self}, 0, #{u_stopdate}, sysdate(), 0)
  	</insert>
  	<select id="login" parameterType="mvo" resultType="mvo">
  		select * from user_t where u_id = #{u_id}
  	</select>
  	<select id="findPwd" parameterType="String" resultType="mvo">
  		select * from user_t where u_email = #{u_email}
  	</select>
  	<update id="passUpdate" parameterType="mvo">
  		update user_t set
  		u_pwd = #{u_pwd}
  		where u_email = #{u_email}
  	</update>
  	<select id="findId" resultType="mvo">
  		select * from user_t where u_name = #{u_name} and  u_email = #{u_email}
  	</select>
  	<insert id="ka_insert" parameterType="mvo">
  		insert into user_t(u_id, u_pwd, u_name, u_birth, u_email, u_gender, u_nickname, u_self, u_grade, u_stopdate, u_regdate, u_active, k_nickname, k_email)
  		values(#{u_id}, #{u_pwd}, #{u_name}, #{u_birth}, #{u_email}, #{u_gender}, #{u_nickname}, #{u_self}, 0, #{u_stopdate}, sysdate(), 0, #{k_nickname}, #{k_email})
  	</insert>
  	
  </mapper>